# Performance results

These are split into different sized resources.

* [Kubernetes](#kubernetes)
  * Pods with [2-3 CPU](#2-3-cpu-pods)
  * Pods with [1-2 CPU](#1-2-cpu-pods)
* [docker-compose](#docker-compose)
  * [2 CPU](#2-cpu)

## Kubernetes

### 2-3 CPU Pods

Node runner:

```sh
Running 40s warmup @ http://10.0.1.210:30000
 100 -d 10 connections
Running 40s test @ http://10.0.1.210:30000
100 connections
┌─────────┬───────┬───────┬───────┬───────┬──────────┬─────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev   │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼─────────┼────────┤
│ Latency │ 24 ms │ 29 ms │ 57 ms │ 59 ms │ 29.62 ms │ 9.85 ms │ 826 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev  │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Req/Sec   │ 1,621   │ 1,621   │ 3,479   │ 3,513   │ 3,321.2 │ 417.58 │ 1,621   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼────────┼─────────┤
│ Bytes/Sec │ 21.3 MB │ 21.3 MB │ 45.8 MB │ 46.3 MB │ 43.7 MB │ 5.5 MB │ 21.3 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
133k requests in 40.03s, 1.75 GB read
```

watt-extra runner with 3 workers:

```sh
Running 40s warmup @ http://10.0.1.210:30042
 100 -d 10 connections
Running 40s test @ http://10.0.1.210:30042
100 connections
┌─────────┬──────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5% │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼──────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 7 ms │ 13 ms │ 81 ms │ 99 ms │ 19.54 ms │ 21.77 ms │ 689 ms │
└─────────┴──────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Req/Sec   │ 2,025   │ 2,025   │ 5,903   │ 7,451   │ 5,298.25 │ 1,960.19 │ 2,025   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Bytes/Sec │ 26.7 MB │ 26.7 MB │ 77.8 MB │ 98.2 MB │ 69.8 MB  │ 25.8 MB  │ 26.7 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴──────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
212k requests in 40.03s, 2.79 GB read
123 errors (0 timeouts)
```

### 1-2 CPU Pods

Node runner:

```sh
Running 40s warmup @ http://10.0.1.57:30000
 100 -d 10 connections
Running 40s test @ http://10.0.1.57:30000
100 connections
┌─────────┬───────┬───────┬───────┬───────┬──────────┬─────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev   │ Max    │
├─────────┼───────┼───────┼───────┼───────┼──────────┼─────────┼────────┤
│ Latency │ 25 ms │ 30 ms │ 53 ms │ 63 ms │ 30.82 ms │ 9.24 ms │ 671 ms │
└─────────┴───────┴───────┴───────┴───────┴──────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Req/Sec   │ 1,568   │ 1,568   │ 3,337   │ 3,383   │ 3,192.18 │ 388.11  │ 1,568   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Bytes/Sec │ 20.7 MB │ 20.7 MB │ 43.9 MB │ 44.6 MB │ 42 MB    │ 5.11 MB │ 20.6 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
128k requests in 40.03s, 1.68 GB read
```

watt-extra runner with 2 workers:

```sh
Running 40s warmup @ http://10.0.1.57:30042
 100 -d 10 connections
Running 40s test @ http://10.0.1.57:30042
100 connections
┌─────────┬───────┬───────┬───────┬────────┬──────────┬──────────┬─────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%    │ Avg      │ Stdev    │ Max     │
├─────────┼───────┼───────┼───────┼────────┼──────────┼──────────┼─────────┤
│ Latency │ 13 ms │ 19 ms │ 96 ms │ 132 ms │ 27.76 ms │ 31.23 ms │ 1278 ms │
└─────────┴───────┴───────┴───────┴────────┴──────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Req/Sec   │ 1,552   │ 1,552   │ 4,215   │ 5,211   │ 3,804.13 │ 1,353.51 │ 1,552   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Bytes/Sec │ 20.4 MB │ 20.4 MB │ 55.5 MB │ 68.7 MB │ 50.1 MB  │ 17.8 MB  │ 20.4 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴──────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
152k requests in 40.03s, 2 GB read
 112 errors (0 timeouts)
```

## docker-compose

### 2 CPU

Node runner:
```sh
Running 40s warmup @ http://44.250.249.138:30000
 100 -d 10 connections
Running 40s test @ http://44.250.249.138:30000
100 connections
┌─────────┬───────┬───────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5%  │ 50%   │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼───────┼───────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 34 ms │ 35 ms │ 58 ms │ 71 ms │ 37.1 ms │ 6.85 ms │ 177 ms │
└─────────┴───────┴───────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Req/Sec   │ 1,296   │ 1,296   │ 2,751   │ 2,793   │ 2,659.15 │ 294.71  │ 1,296   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Bytes/Sec │ 17.1 MB │ 17.1 MB │ 36.2 MB │ 36.8 MB │ 35 MB    │ 3.88 MB │ 17.1 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
106k requests in 40.02s, 1.4 GB read
```

watt-extra runner with 2 workers:
```sh
Running 40s warmup @ http://44.250.249.138:30042
 100 -d 10 connections
Running 40s test @ http://44.250.249.138:30042
100 connections
┌─────────┬──────┬───────┬───────┬───────┬──────────┬──────────┬─────────┐
│ Stat    │ 2.5% │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max     │
├─────────┼──────┼───────┼───────┼───────┼──────────┼──────────┼─────────┤
│ Latency │ 1 ms │ 21 ms │ 76 ms │ 96 ms │ 26.54 ms │ 25.76 ms │ 1625 ms │
└─────────┴──────┴───────┴───────┴───────┴──────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Req/Sec   │ 1,406   │ 1,406   │ 4,647   │ 6,395   │ 4,589.98 │ 861.05  │ 1,406   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼─────────┤
│ Bytes/Sec │ 18.5 MB │ 18.5 MB │ 61.2 MB │ 84.2 MB │ 60.4 MB  │ 11.3 MB │ 18.5 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
184k requests in 40.02s, 2.42 GB read
127 errors (0 timeouts)
```
