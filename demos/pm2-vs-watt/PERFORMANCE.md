# Performance results

These are split into different sized resources.

* [Kubernetes](#kubernetes)
  * Pods with [2-3 CPU](#2-3-cpu-pods)
* [docker-compose](#docker-compose)
  * [2 CPU](#2-cpu)

## Kubernetes

### 2-3 CPU Pods

Node.js Cluster:
```sh
Running 40s warmup @ http://10.0.1.192:30002
 100 -d 10 connections
Running 40s test @ http://10.0.1.192:30002
100 connections
┌─────────┬──────┬──────┬───────┬──────┬─────────┬────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev  │ Max   │
├─────────┼──────┼──────┼───────┼──────┼─────────┼────────┼───────┤
│ Latency │ 2 ms │ 3 ms │ 6 ms  │ 7 ms │ 3.26 ms │ 1.6 ms │ 79 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴────────┴───────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Req/Sec   │ 19,519  │ 19,519  │ 26,015  │ 30,783  │ 26,813.2 │ 2,844.52 │ 19,513  │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Bytes/Sec │ 3.49 MB │ 3.49 MB │ 4.66 MB │ 5.51 MB │ 4.8 MB   │ 509 kB   │ 3.49 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴──────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
1073k requests in 40.08s, 192 MB read
```

pm2-runtime with 2 workers:
```sh
Running 40s warmup @ http://10.0.1.192:30000
 100 -d 10 connections
Running 40s test @ http://10.0.1.192:30000
100 connections
┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev   │ Max   │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼───────┤
│ Latency │ 2 ms │ 3 ms │ 7 ms  │ 8 ms │ 3.46 ms │ 1.68 ms │ 70 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴───────┘
┌───────────┬─────────┬─────────┬─────────┬────────┬──────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%  │ Avg      │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼────────┼──────────┼──────────┼─────────┤
│ Req/Sec   │ 15,439  │ 15,439  │ 26,143  │ 26,799 │ 25,269.7 │ 2,502.62 │ 15,438  │
├───────────┼─────────┼─────────┼─────────┼────────┼──────────┼──────────┼─────────┤
│ Bytes/Sec │ 2.76 MB │ 2.76 MB │ 4.68 MB │ 4.8 MB │ 4.52 MB  │ 448 kB   │ 2.76 MB │
└───────────┴─────────┴─────────┴─────────┴────────┴──────────┴──────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
1011k requests in 40.08s, 181 MB read
```

watt-extra with 2 workers:
```sh
Running 40s warmup @ http://10.0.1.192:30001
 100 -d 10 connections
Running 40s test @ http://10.0.1.192:30001
100 connections
┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev   │ Max   │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼───────┤
│ Latency │ 2 ms │ 2 ms │ 5 ms  │ 5 ms │ 2.93 ms │ 1.36 ms │ 87 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴───────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬──────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev    │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Req/Sec   │ 21,423  │ 21,423  │ 30,463  │ 31,087  │ 30,234.8 │ 1,469.58 │ 21,413  │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼──────────┼─────────┤
│ Bytes/Sec │ 3.83 MB │ 3.83 MB │ 5.45 MB │ 5.57 MB │ 5.41 MB  │ 263 kB   │ 3.83 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴──────────┴─────────┘
Req/Bytes counts sampled once per second.
# of samples: 40
1209k requests in 40.06s, 216 MB read
```

## docker-compose

### 2 CPU

Node.js cluster:
```sh
```

pm2-runtime with 2 workers:
```sh
```

watt-extra runner with 2 workers:
```sh
```
